(function(){"use strict";var e={9140:function(e,n,t){var r=t(5130),a=(t(4603),t(7566),t(8721),t(6768)),o=t(144),l=t(4232),i=t(4373);const s={class:"p-8 bg-white shadow-2xl rounded-lg",style:{fontFamily:"Poppin, sans-serif"}},u={class:"flex space-x-6 mb-6"},c=["onClick","onDragover","onDragleave","onDrop"],d={key:0,class:"h-full flex flex-col items-center justify-center text-gray-400"},f={class:"text-sm text-center px-4 fancy-text"},g=["src"],m=["id","onChange"],p=["disabled"],v={key:0,class:"mt-2 text-red-600 text-sm"};var h={__name:"ImageUploader",emits:["image-diff-result"],setup(e,{emit:n}){const t=(0,o.Kh)({image1:null,image2:null}),h=(0,o.Kh)({image1:null,image2:null}),b=(0,o.Kh)({image1:!1,image2:!1}),y=(0,o.KR)(!1),w=(0,o.KR)(""),x=n,k=e=>{const n=document.getElementById(e);n.click()},D=(e,n)=>{const t=n.target.files[0];t&&C(t)?P(e,t):w.value="Only JPG and PNG files are allowed, and the size should be less than 200MB."},C=e=>{const n=["image/jpeg","image/png"],t=209715200;return n.includes(e.type)&&e.size<=t},L=e=>{b[e]=!0},_=e=>{b[e]=!1},O=(e,n)=>{b[e]=!1;const t=n.dataTransfer.files[0];t&&C(t)?P(e,t):w.value="Only JPG and PNG files are allowed, and the size should be less than 200MB."},P=(e,n)=>{t[e]=n;const r=new FileReader;r.onload=n=>{h[e]=n.target.result},r.readAsDataURL(n)},R=async()=>{if(!t.image1||!t.image2)return void(w.value="Please select both images.");y.value=!0,w.value="";const e=new FormData;e.append("file1",t.image1),e.append("file2",t.image2);try{const n=await i.A.post("https://imagecompare-api.vercel.app/process-images/",e,{headers:{"Content-Type":"multipart/form-data"},responseType:"arraybuffer"}),t=new Blob([n.data],{type:"image/png"});x("image-diff-result",t)}catch(n){console.error("Error comparing images:",n),w.value="An error occurred while comparing the images. Please try again."}finally{y.value=!1}};return(e,n)=>((0,a.uX)(),(0,a.CE)("div",s,[n[3]||(n[3]=(0,a.Lk)("h2",{class:"text-lg font-semibold text-center mb-4 fancy-text"},"Upload two similar images",-1)),(0,a.Lk)("div",u,[((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(["image1","image2"],((e,o)=>(0,a.Lk)("div",{key:o,class:"w-1/2"},[(0,a.Lk)("div",{class:(0,l.C4)(["h-64 border-2 border-gray-300 border-dashed rounded-lg overflow-hidden transition-all duration-300 ease-in-out cursor-pointer",{"border-gray-500 bg-gray-100":b[e]}]),onClick:n=>k(e),onDragover:(0,r.D$)((n=>L(e)),["prevent"]),onDragleave:(0,r.D$)((n=>_(e)),["prevent"]),onDrop:(0,r.D$)((n=>O(e,n)),["prevent"])},[t[e]?((0,a.uX)(),(0,a.CE)("img",{key:1,src:h[e],alt:"Preview",class:"w-full h-full object-cover"},null,8,g)):((0,a.uX)(),(0,a.CE)("div",d,[n[2]||(n[2]=(0,a.Lk)("svg",{class:"w-12 h-12 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[(0,a.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),(0,a.Lk)("span",f,[(0,a.eW)((0,l.v_)(0===o?"Drag & Drop or Upload Your First Image":"Drag & Drop or Upload Your Second Image"),1),n[0]||(n[0]=(0,a.Lk)("br",null,null,-1)),n[1]||(n[1]=(0,a.eW)(" (JPG/PNG, Max 200MB) "))])]))],42,c),(0,a.Lk)("input",{type:"file",id:e,ref_for:!0,ref:e,class:"hidden",onChange:n=>D(e,n),accept:"image/png, image/jpeg"},null,40,m)]))),64))]),(0,a.Lk)("button",{onClick:R,disabled:!t.image1||!t.image2||y.value,class:"w-full bg-black text-white py-3 px-6 rounded-md text-lg font-semibold hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 ease-in-out transform hover:scale-105 fancy-text"},(0,l.v_)(y.value?"Processing...":"Compare Images"),9,p),w.value?((0,a.uX)(),(0,a.CE)("p",v,(0,l.v_)(w.value),1)):(0,a.Q3)("",!0)]))}};const b=h;var y=b;const w={key:0,class:"mt-8 p-6 bg-gray-100 rounded-lg shadow-inner"},x={class:"bg-white rounded-lg p-4 shadow-md"},k=["src"];var D={__name:"ImageDiffResult",props:{imageResult:{type:String,required:!0}},setup(e){const n=e,t=()=>{const e=document.createElement("a");e.href=n.imageResult,e.download="difference_image.png",document.body.appendChild(e),e.click(),document.body.removeChild(e)};return(n,r)=>e.imageResult?((0,a.uX)(),(0,a.CE)("div",w,[r[0]||(r[0]=(0,a.Lk)("h2",{class:"text-2xl font-bold text-gray-800 mb-4"},"Difference Image",-1)),(0,a.Lk)("div",x,[(0,a.Lk)("img",{src:e.imageResult,alt:"Difference Image",class:"w-full rounded-lg"},null,8,k)]),(0,a.Lk)("button",{onClick:t,class:"mt-4 w-full bg-black text-white py-2 px-4 rounded-md hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-all duration-300 ease-in-out transform hover:scale-105"}," Download Difference Image ")])):(0,a.Q3)("",!0)}};const C=D;var L=C;const _={class:"min-h-screen bg-gray-100 py-12 px-4 sm:px-6 lg:px-8"},O={class:"max-w-4xl mx-auto"},P={class:"bg-white shadow-2xl rounded-lg overflow-hidden"};var R={__name:"App",setup(e){const n=(0,o.KR)(null),t=e=>{n.value=URL.createObjectURL(e)};return(e,r)=>((0,a.uX)(),(0,a.CE)("div",_,[(0,a.Lk)("div",O,[r[0]||(r[0]=(0,a.Lk)("h1",{class:"text-4xl font-extrabold text-gray-900 text-center mb-8"}," ImagiDiff: Visual Difference Finder ",-1)),(0,a.Lk)("div",P,[(0,a.bF)(y,{onImageDiffResult:t}),(0,a.bF)(L,{imageResult:n.value},null,8,["imageResult"])])])]))}};const j=R;var E=j;(0,r.Ef)(E).mount("#app")}},n={};function t(r){var a=n[r];if(void 0!==a)return a.exports;var o=n[r]={exports:{}};return e[r].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(n,r,a,o){if(!r){var l=1/0;for(c=0;c<e.length;c++){r=e[c][0],a=e[c][1],o=e[c][2];for(var i=!0,s=0;s<r.length;s++)(!1&o||l>=o)&&Object.keys(t.O).every((function(e){return t.O[e](r[s])}))?r.splice(s--,1):(i=!1,o<l&&(l=o));if(i){e.splice(c--,1);var u=a();void 0!==u&&(n=u)}}return n}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,a,o]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(n){return 0===e[n]};var n=function(n,r){var a,o,l=r[0],i=r[1],s=r[2],u=0;if(l.some((function(n){return 0!==e[n]}))){for(a in i)t.o(i,a)&&(t.m[a]=i[a]);if(s)var c=s(t)}for(n&&n(r);u<l.length;u++)o=l[u],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(c)},r=self["webpackChunkimage_diff_check"]=self["webpackChunkimage_diff_check"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}();var r=t.O(void 0,[504],(function(){return t(9140)}));r=t.O(r)})();
//# sourceMappingURL=app.d3f72c52.js.map